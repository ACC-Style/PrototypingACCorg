<!--
  header: the h2 tag in this space
  container_modifier: class slot to change the row mechanizm.
  custom_fontsize:  change the base sizing for the reading typography defaults to 1.
  button_type: this is looking for the bootstrap buton decorator class and defaults to btn-secondary
  grid_modifier: you can pass in  rules to change the grid from its default.
-->
{% assign path_parts = 'Blocks.UnOrderedListWithIcon' | split: '.' %}
{% if include.data_path %}
  {% assign path_parts = include.data_path | split: '.' %}
{% endif %}

{% assign data_object = site.data %}
{% for part in path_parts %}
  {% assign data_object = data_object[part] %}
{% endfor %}

{% assign grid_styles = " columns_2:md columns_1 gap-x_6:md gap_4 " %}
{% if include.grid_modifier %}
  {% assign grid_styles = include.grid_modifier %}
{% endif %} 

{% assign font_size = .8 %}
{% if include.custom_fontsize %}
  {% assign font_size = include.custom_fontsize %}
{% endif %} 


{% if include.container_modifier %}
  <section
    label="UnOrderedListWithIcon"
    class="reading-typography font-size_up p_4 {{ include.container_modifier }}"
    style="--custom-font-size-up: {{font_size}} ;"
  >
{% else %}
  <div
    label="UnOrderedListWithIcon"
    class="reading-typography font-size_up"
    style="--custom-font-size-up: {{font_size}} ;"
  >
{% endif %}

<ul
  class=" {{ grid_styles }}  grid p-x_4:lg ul_none text_left"
>
  {% for listItem in data_object %}
    {% if forloop.last and include.lastItem %}
      <!-- Custom pattern for the last item -->
      <li class="flex flex_row items_center justify_start isolate relative">
        <em class="c_accent font_7 p-r_4 far fa-regular fa-check opacity_0" aria-hidden="true"></em>  
      <span class="font-size_up font_medium">
          Read about more of our
          <a href="{{ listItem.link_url }}">{{ listItem.link_text }}</a>&nbsp;
        </span>
        <span class="flex flex_row p-l_4">
          <em class="c_accent font_6 fas fa-solid fa-ellipsis" aria-hidden="true"></em>
          <em class="c_accent fa-chevron-right fa-solid fas font_6 m-l_n3 " aria-hidden="true"></em>
        </span>
      </li>
    {% else %}
      <!-- Default pattern for other items -->
      <li class="flex flex_row items_center justify_start isolate relative">
        <em class="c_accent font_7 p-r_4 far fa-regular {{ listItem.icon_class }}" aria-hidden="true"></em>
        <span class="font-size_up font_medium">
          {{ listItem.description }}
          {% if listItem.link_url %}
            <a rel="noopener noreferrer" class="link self_center" href="{{ listItem.link_url }}" target="_blank">
              {{- listItem.link_text -}}
            </a>
          {% endif %}
        </span>
      </li>
    {% endif %}
  {% endfor %}
</ul>

{% if include.container_modifier %}
  </section>
{% else %}
  </div>
{% endif %}
